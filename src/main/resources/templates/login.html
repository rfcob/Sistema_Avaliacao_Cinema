<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Login (Teste)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/lista_sessoes.css" rel="stylesheet">
    <style>
        body { font-family: sans-serif; margin: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; }
        input, select { padding: 8px; width: 318px; /* Ajustado para bater com o input */ }
        button { padding: 10px 15px; background-color: #28a745; color: white; border: none; }
        .error { color: red; font-weight: bold; }
    </style>
</head>

<header th:replace="~{fragments/layout :: navbar}"></header>

<body>
<h1>Quer Votar?</h1>
<p>Digite um email e selecione uma sessão.</p>

<div th:if="${error}" class="error">
    <p th:text="${error}"></p>
</div>

<form th:action="@{/login/redirecionar}" method="post">
    <div class="form-group">
        <label for="email">Email do Cliente:</label>
        <input type="email" id="email" name="email" required placeholder="ex: joao.silva@email.com">
    </div>

    <div class="form-group">
        <label for="sessaoId">ID da Sessão:</label>

        <select id="sessaoId" name="sessaoId" required>
            <option value="" disabled selected>Selecione uma sessão...</option>
            <option th:each="sessao : ${sessoes}"
                    th:value="${sessao.idSessao}"
                    th:text="${sessao.tituloFilme} + ' - ' + ${#temporals.format(sessao.dataInicio, 'dd/MM/yyyy HH:mm')}">
                Duna: Parte 2 - 25/10/2025 20:00
            </option>
        </select>

    </div>
    <button type="submit">Iniciar Teste do Questionário</button>
</form>

</body>
</html>